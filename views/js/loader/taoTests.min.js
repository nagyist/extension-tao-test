define("taoTests/controller/routes",[],function(){"use strict";return{Tests:{deps:"controller/tests/action",actions:{editTest:"controller/tests/editTest"}}}}),define("taoTests/previewer/factory",["lodash","context","module","core/providerLoader","core/providerRegistry","core/logger"],function(_,context,module,providerLoaderFactory,providerRegistry){"use strict";function previewerFactory(type,uri,config){return config=Object.assign({},module.config(),config),providerLoaderFactory().addList(config.previewers).load(context.bundle).then(function(providers){providers.forEach(function(provider){previewerFactory.registerProvider(provider.name,provider)})}).then(function(){return previewerFactory.getProvider(type)}).then(function(provider){return provider.init(uri,config)})}return providerRegistry(previewerFactory,function validateProvider(provider){if("function"!=typeof provider.init)throw new TypeError("The previewer provider MUST have a init() method");return!0})}),define("taoTests/controller/tests/action",["i18n","layout/actions/binder","uri","ui/feedback","core/logger","taoTests/previewer/factory","module"],function(__,binder,uri,feedback,loggerFactory,previewerFactory,module){"use strict";const logger=loggerFactory("taoTests/controller/action");binder.register("testPreview",function testPreview(actionContext){const config=module.config(),previewerConfig=Object.fromEntries(Object.entries({readOnly:!1,fullPage:!0,pluginsOptions:config.pluginsOptions}).filter(_ref=>{let[key,value]=_ref;return value!==void 0}));previewerFactory(config.provider,uri.decode(actionContext.uri),previewerConfig).catch(err=>{logger.error(err),feedback().error(__("Test Preview is not installed, please contact to your administrator."))})})}),define("taoTests/controller/tests/editTest",["jquery","ui/lock","module","layout/actions"],function($,lock,module,actions){"use strict";return{start(){const config=module.config(),previewAction=actions.getBy("test-preview");previewAction&&(previewAction.state.disabled=!config.isPreviewEnabled,actions.updateState()),$("#lock-box").each(function(){lock($(this)).register()})}}}),define("taoTests/loader/taoTests.bundle",function(){}),define("taoTests/loader/taoTests.min",["taoItems/loader/taoItems.min"],function(){});
//# sourceMappingURL=taoTests.min.js.map